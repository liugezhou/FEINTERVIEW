## 21 | Chrome开发者工具：利用网络面板做性能分析
> 页面是浏览器的核心，浏览器中的所有功能都是服务于页面的，Chrome开发者工具又是调试页面的核心工具。  
### 网络面板
> 1. 控制器
> + 开始或停止抓包  
> + 全局搜索
> + 禁止从cache中加载资源 
> + 模拟网络
> 2. 过滤器  
> 3. 抓图信息：Capture screenshots  
> 4. 详细列表：重点内容 
> 5. 下载信息概要 
> + DOMContentLoaded:页面已经构建好DOM，所需要的HTML、CSS和JS文件都已经下载完成
> + Load:浏览器已经加载了所有的资源(图片、样式表等)

> 详细信息中的Timing
> + Queued:排队--资源优先级、6个TCP链接。 
> + Stalled:其它一些可能导致连接过程被推迟的原因。  
> + Proxy Negotiation:代理协商阶段  
> + Initial connection/SSL:与服务器建立连接的阶段 
> + Request sent:网络进程准备请求数据，发送给网络，时间通常不到1ms。  
> + Waiting(TTFB):第一字节时间，反映服务端相应速度的重要指标。  
> + Connect Download:从第一字节时间到接收到全部响应数据所用的时间。

### 优化Timing
#### 1. Queuing时间太久
> 大概率因为每个域名同时维护6个TCP连接，基于这个原因可以使用域名分片技术，即把该站点下面的资源放在多个域名下。另外可以将站点升级至HTTP2，因为HTTP2下面已经没有每个域名同时维护6个TCP连接的限制了(可通过curl -I 域名方式查看HTTP协议版本)。  
#### 2. 第一字节时间过久(TTFB)  
> + 服务器生成页面数据时间过久  
> + 网络原因  
> + 发送请求头带上了多余的用户信息：比如不必要的Cookie信息
#### 3.ContentLoad时间过久
> 可能是字节数太多的原因导致的。这时候你就需要减少文件大小，比如压缩、去掉源码中不必要的注释等方法。